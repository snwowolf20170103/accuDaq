以下是为你梳理的 DAQ IDE - MVP (Minimum Viable Product, 最小可行性产品) 需求清单。
MVP 核心目标
必须实现的最终产品为，用户可以通过拖拽实现整个自定义流程。包括并不限于：可以拖动前端组件或者设备，可以把后端实现也定义成前端组件，通过组合和组件配置,可以展示和存储数据，实现全流程。存储也是组件形式，比如：数据库组件，文件组件等等。核心思想，皆为组件化。

1.验证架构：跑通 VSCode 插件架构下的可视化与代码双模式共存。
2.验证闭环：实现“连接设备 -> 获取数据 -> 简单处理 -> UI显示 -> 本地存储”的完整链路。
3.目标用户：初步仅面向 PC端桌面应用开发者（暂不涉及复杂的嵌入式交叉编译和FPGA）。


1. 基础架构与项目管理 (Foundation)

●IDE 形态：基于 VSCode 的扩展（Extension），支持 Windows 10/11。

●项目结构：
  
  ·定义统一的 .daq 项目文件格式（JSON/YAML），描述组件依赖和配置。
  ·功能：新建项目（仅提供 "空白项目" 和 "基础数据采集" 2个模板）、打开项目、保存项目。



●双模式切换：    ⭐⭐⭐⭐修改：创建时选择模式。

  ·实现编辑器状态栏的“模式切换”按钮。
  ·MVP限制：支持可视化模式生成的逻辑单向转换为代码（Python/C++），暂不支持复杂代码反向转回图形。⭐⭐   



2. LabVIEW 模式 (可视化编程 - 核心差异化)     h5 + blockly ⭐⭐   

●画布编辑器：
    ·支持无限画布，支持组件拖拽放置。
    ·连线功能：支持组件端口之间的数据流连线，具备基本的数据类型检查（如：不能把字符串连给数字输入）。


●核心组件库 (MVP版)：
    ·源 (Source)：模拟信号发生器（正弦波/随机数）、Modbus 读取节点。
    ·处理 (Process)：基础数学运算 (+-*/)、比较逻辑 (> < =)、简单阈值报警。
    ·汇 (Sink)：调试打印（Debug Print）、全局变量写入（用于UI绑定）。


●调试：
    ·支持“高亮执行”（慢速显示数据流向）。


3. QtCreator 模式 (专业编程)    ⭐⭐   ====等价于  LVGL
●代码编辑器：
    ·复用 VSCode 原生编辑能力（语法高亮、自动补全）。
●SDK支持：
    ·提供基础 Python SDK (import daq_core)。
    ·允许用户编写脚本直接读取设备数据并打印到控制台。
●终端集成：内置终端可直接运行脚本。


4. 设备管理模块 (Connectivity)      ⭐⭐   MQTT协议数据通信
●协议支持：
    ·Modbus TCP：最通用的工业协议，实现连接、读取保持寄存器。
    ·虚拟设备 (Mock Device)：内置一个虚拟设备，产生正弦波数据（方便无硬件开发验证）。
●设备面板：
    ·简单的设备添加列表（IP地址、端口配置）。
    ·“连接/断开”按钮及状态指示灯。
    ·简单的实时数据监视窗口（Raw Data Viewer）。


5. UI 设计器 (H5 Dashboard)
●编辑器：
    ·基于 Web 的拖拽式 UI 编辑器（所见即所得）。
●控件库 (MVP版)：
    ·显示类：数字显示框、LED指示灯（红/绿）、实时波形图（简易版 Line Chart）。
    ·控制类：开关按钮、数值输入框。
●变量绑定：
    ·右侧属性面板，可选择控件绑定的“设备变量”或“全局变量”。

6. 运行与数据处理
●运行环境：
    ·本地运行（Localhost）。
    ·点击“运行”按钮，启动后台 Python 引擎执行数据采集逻辑，前端 Webview 显示 UI。
●数据存储：
    ·支持将采集数据以 .csv 格式写入本地指定文件夹。

7. AI 辅助 (MVP版 - 仅作为亮点演示)
●基础对话框：
    ·集成一个侧边栏 Chat 窗口。
    ·功能：连接 LLM API，仅支持“代码解释”和“简单代码生成”（例如：用户输入“帮我写一个Modbus读取脚本”，AI输出Python代码）。
    ·暂不支持复杂的全自动项目创建。



MVP 阶段不做的功能 (Out of Scope)
为了确保 MVP 能在 2-3 个月内交付，以下功能必须砍掉.
1.复杂协议：EtherCAT、CANopen、OPC UA 暂不支持。
2.嵌入式支持：LVGL 设计器、交叉编译、固件烧录、FPGA 开发暂不支持。
3.高级算法：FFT、滤波、PID 等复杂算法组件暂不内置（用户可自己写代码实现）。
4.复杂任务调度：暂不支持复杂的流程图编排，仅支持简单的周期性循环（While Loop）。
5.云原生/Web IDE：MVP 仅支持本地桌面版（Electron/VSCode）。
6.双向无损转换：暂不支持修改代码后自动更新可视化连线图。


MVP 验收标准 (Success Criteria)
用户下载 IDE 后，能够在 10分钟内 完成以下操作：
1.新建一个“温度监控”项目。
2.在设备管理中添加一个“虚拟温度传感器”。
3.在 LabVIEW 模式下，拖入“读取”节点和“大于”判断节点（温度>30）。
4.在 UI 设计器中拖入一个“波形图”和一个“报警灯”。
5.点击运行，看到波形图在动，当虚拟温度超过 30 时，报警灯变红。
6.停止运行，能在文件夹中找到保存的 CSV 数据。