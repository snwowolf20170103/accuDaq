# DAQ ç³»ç»Ÿå¼€å‘è®¡åˆ’ (v3.0 - æž¶æž„é©±åŠ¨ç‰ˆ)

> **æ–‡æ¡£çŠ¶æ€**: æ­£å¼ç‰ˆ  
> **æœ€åŽæ›´æ–°**: 2026-01-09  
> **åŸºçº¿æ–‡æ¡£**: å…¨ç‰ˆéœ€æ±‚(DAQ).md  
> **å½“å‰é˜¶æ®µ**: **Phase 1 - éœ€æ±‚ç»†åŒ–ä¸Žæž¶æž„è®¾è®¡**

---

## ðŸ“… 1. æ€»ä½“è·¯çº¿å›¾ (Roadmap)

æˆ‘ä»¬å°†å¼€å‘è¿‡ç¨‹åˆ†ä¸ºå››ä¸ªæ ¸å¿ƒé˜¶æ®µï¼Œå½“å‰æ­£å¤„äºŽ **Phase 1**ã€‚

| é˜¶æ®µ | åç§° | å‘¨æœŸ | æ ¸å¿ƒç›®æ ‡ | äº¤ä»˜ç‰© |
| :--- | :--- | :--- | :--- | :--- |
| **P1** | **è®¾è®¡ä¸Žæž¶æž„ (Design)** | **Week 1-2** | **ç¡®ç«‹æ•°æ®æ¨¡åž‹ã€é€šä¿¡åè®®ä¸Žæ’ä»¶æž¶æž„** | æž¶æž„è®¾è®¡è¯´æ˜Žä¹¦ã€DAQ-IR è§„èŒƒã€UI åŽŸåž‹ã€æŠ€æœ¯éªŒè¯ Demo |
| **P2** | **MVP é—­çŽ¯ (Skeleton)** | **Week 3-6** | **è·‘é€šâ€œé‡‡é›†-æ˜¾ç¤ºâ€æœ€å°é—­çŽ¯** | VSCode æ’ä»¶ v0.1ã€ä¸²å£/Modbus æ”¯æŒã€åŸºç¡€å›¾è¡¨ç»„ä»¶ |
| **P3** | **æ ¸å¿ƒåŠŸèƒ½ (Core)** | **Week 7-10** | **å®žçŽ°åŒæ¨¡å¼åŸºç¡€ä¸Žä»»åŠ¡ç¼–æŽ’** | æµç¨‹å›¾ç¼–è¾‘å™¨ã€ä»£ç ç¼–è¾‘å™¨(Qtæ¨¡å¼)ã€æ•°æ®è½ç›˜ã€æ—¥å¿—ç³»ç»Ÿ |
| **P4** | **ç”Ÿæ€ä¸Žäº¤ä»˜ (Release)** | **Week 11-14** | **ç»„ä»¶å¸‚åœºã€æ‰“åŒ…å‘å¸ƒã€æ–‡æ¡£** | å®‰è£…åŒ…ã€ç”¨æˆ·æ‰‹å†Œã€å¼€å‘è€…æ–‡æ¡£ã€æ’ä»¶å¸‚åœºé¢„è§ˆ |

---

## ðŸ—ï¸ 2. å½“å‰é˜¶æ®µä»»åŠ¡åˆ†è§£ (Phase 1: Analysis & Design)

å½“å‰çš„é¦–è¦ä»»åŠ¡æ˜¯**é¿å…ç›²ç›®ç¼–ç **ï¼Œä¼˜å…ˆè§£å†³â€œåŒæ¨¡å¼å…±å­˜â€ã€â€œé«˜æ€§èƒ½æ¸²æŸ“â€ä¸Žâ€œè·¨è¿›ç¨‹é€šä¿¡â€ä¸‰å¤§éš¾é¢˜ã€‚

### 2.1 éœ€æ±‚ç»†åŒ– (Requirements Elaboration)

1.  **åŒæ¨¡å¼ç»Ÿä¸€æ€§åˆ†æž**
    *   [ ] å®šä¹‰â€œLabVIEW æ¨¡å¼â€ä¸Žâ€œQtCreator æ¨¡å¼â€çš„å·¥ç¨‹æ–‡ä»¶ç»“æž„å·®å¼‚ä¸Žå…¼å®¹æ€§ï¼ˆå¦‚ä½•è®©åŒä¸€ä»½ Project é…ç½®é€‚é…ä¸¤ç§ UIï¼‰ã€‚
    *   [ ] æ¢³ç†ä¸¤å¥—æ¨¡å¼å…±äº«çš„åº•å±‚èƒ½åŠ›ï¼ˆè®¾å¤‡ç®¡ç†ã€æ—¥å¿—ã€Git ç”šè‡³ç¼–è¯‘é“¾ï¼‰ã€‚

2.  **æ ¸å¿ƒä¸šåŠ¡å®žä½“å®šä¹‰**
    *   [ ] **è®¾å¤‡ (Device)**: å®šä¹‰è®¾å¤‡æŠ½è±¡å±‚ (HAL) æŽ¥å£ï¼Œæ˜Žç¡® `connect()`, `read()`, `write()` çš„æ ‡å‡†å‚æ•°åŠå¼‚æ­¥å¤„ç†æœºåˆ¶ã€‚
    *   [ ] **å˜é‡ (Tag)**: è®¾è®¡å˜é‡ç»‘å®šè¯­æ³•ï¼ˆä¾‹å¦‚ `Device1.Channel1 -> Gauge.Value`ï¼‰ï¼Œéœ€æ”¯æŒåŽŸå§‹å€¼æ ¡å‡†ä¸ŽæŠ¥è­¦é˜ˆå€¼ã€‚

3.  **UI/UX äº¤äº’è§„èŒƒ**
    *   [ ] ç¡®å®š VSCode é¢æ¿å¸ƒå±€ï¼šå·¦ä¾§èµ„æºç®¡ç†å™¨ã€ä¸­é—´ç”»å¸ƒ/ä»£ç åŒºã€åº•éƒ¨è¾“å‡º/è°ƒè¯•åŒºã€å³ä¾§å±žæ€§/å·¥å…·ç®±ã€‚
    *   [ ] åˆ¶å®šæµç¨‹å›¾ç»„ä»¶çš„äº¤äº’çŠ¶æ€ï¼šé€‰ä¸­ã€æ‹–æ‹½ã€è¿žçº¿åˆ¤å®šã€é”™è¯¯æç¤ºã€‚

### 2.2 ç³»ç»Ÿæž¶æž„è®¾è®¡ (Architecture Design)

1.  **DAQ-IR (Intermediate Representation) è®¾è®¡**
    *   **ç›®æ ‡**: è¿™æ˜¯ä¸€ä¸ª JSON è§„èŒƒï¼Œä½œä¸ºç³»ç»Ÿçš„â€œå•ä¸€äº‹å®žæ¥æºâ€ã€‚
    *   **å†…å®¹**: æè¿°æµç¨‹å›¾æ‹“æ‰‘ã€ç»„ä»¶å±žæ€§ã€ä¿¡å·ç»‘å®šå…³ç³»ã€‚æ— è®ºå‰ç«¯æ˜¯ Webview è¿˜æ˜¯ C++ï¼Œéƒ½ä¾æ®æ­¤ IR æ‰§è¡Œã€‚

2.  **è¿›ç¨‹é€šä¿¡æž¶æž„ (IPC)**
    *   **VSCode Extension Host**: è´Ÿè´£æ–‡ä»¶ I/Oã€ç”Ÿå‘½å‘¨æœŸã€Git é›†æˆã€é…ç½®ç®¡ç†ã€‚
    *   **WebView (Frontend)**: è´Ÿè´£ SVG/Canvas æ¸²æŸ“ã€ç”¨æˆ·äº¤äº’ã€å±žæ€§é…ç½®ï¼ˆåªè´Ÿè´£â€œæ˜¾â€ï¼‰ã€‚
    *   **DAQ Engine (Backend)**: è´Ÿè´£å®žé™…çš„ä¸²å£/TCP é€šä¿¡ã€åè®®è§£æžã€æ•°æ®è®¡ç®—ï¼ˆè´Ÿè´£â€œç®—â€ï¼‰ã€‚
    *   **ä»»åŠ¡**: é€‰å®š IPC æ–¹æ¡ˆï¼ˆRPC? WebSocket? Stdio?ï¼‰ï¼Œè®¾è®¡æ¶ˆæ¯åè®®å¸§ã€‚

3.  **æ¸²æŸ“æŠ€æœ¯é€‰åž‹éªŒè¯**
    *   **H5/Canvas**: éªŒè¯åœ¨ VSCode WebView ä¸­æ¸²æŸ“ 10Hz å®žæ—¶æ³¢å½¢çš„æ€§èƒ½å¼€é”€ã€‚
    *   **LVGL Simulator**: ç¡®å®šå¦‚ä½•å°† LVGL WASM æ¨¡æ‹Ÿå™¨åµŒå…¥ Webview å¹¶ä¸Ž DAQ Engine é€šä¿¡ã€‚

---

## ðŸ› ï¸ 3. MVP å®žæ–½èŒƒå›´ (Phase 2 Scope)

ä¸ºäº†ç¡®ä¿æž¶æž„è½åœ°çš„å¯è¡Œæ€§ï¼ŒP2 é˜¶æ®µä»…å®žçŽ°ä»¥ä¸‹åŠŸèƒ½å­é›†ï¼š

### 3.1 åŒ…å«ç‰¹æ€§ (In Scope)
*   **å·¥ç¨‹ç®¡ç†**: åˆ›å»º/ä¿å­˜ `.daq` å·¥ç¨‹åŒ…ã€‚
*   **ç¡¬ä»¶æŽ¥å…¥**: ä»…æ”¯æŒ **Serial Port (ä¸²å£)**ã€‚
*   **é€šä¿¡åè®®**: ä»…æ”¯æŒ **Modbus RTU (Master)**ã€‚
*   **UI ç»„ä»¶**: ä»ªè¡¨ç›˜ (Gauge)ã€å®žæ—¶è¶‹åŠ¿å›¾ (Trend Chart)ã€å¼€å…³ (Toggle)ã€æ–‡æœ¬æ˜¾ç¤ºã€‚
*   **æµç¨‹å›¾**: æ”¯æŒåŸºæœ¬çš„â€œå®šæ—¶è§¦å‘ -> è¯»å– -> æ˜¾ç¤ºâ€é€»è¾‘ã€‚
*   **è¿è¡ŒçŽ¯å¢ƒ**: ä»…æ”¯æŒ Windows æœ¬åœ°è¿è¡Œè°ƒè¯•ã€‚

### 3.2 æš‚ä¸åŒ…å« (Out of Scope for MVP)
*   åŒæ¨¡å¼åˆ‡æ¢ï¼ˆMVP ä»…å®žçŽ° LabVIEW æ¨¡å¼ä»¥éªŒè¯å¤æ‚åº¦ï¼‰ã€‚
*   å¤æ‚è„šæœ¬ (Python/C++) æ··åˆç¼–ç¨‹ã€‚
*   è¿œç¨‹éƒ¨ç½²ä¸Žäº‘åŒæ­¥ã€‚
*   é«˜çº§åè®® (EtherCAT, CANopen ç­‰)ã€‚

---

## ðŸ“Š 4. å…³é”®æŠ€æœ¯æŒ‡æ ‡ä¸Žçº¦æŸ

1.  **æ€§èƒ½çº¦æŸ**
    *   UI åˆ·æ–°çŽ‡ >= 30 FPSã€‚
    *   æ•°æ®é‡‡é›†å‘¨æœŸ >= 100ms (10Hz)ã€‚
    *   Webview ä¸Ž Engine é€šä¿¡å»¶è¿Ÿ < 10msã€‚

2.  **æŠ€æœ¯æ ˆçº¦æŸ**
    *   **IDE æ¡†æž¶**: VSCode Extension APIã€‚
    *   **å‰ç«¯**: React + React Flow (æµç¨‹å›¾) + ECharts/Canvas (å›¾è¡¨)ã€‚
    *   **åŽç«¯å¼•æ“Ž**: Python (MVPé˜¶æ®µå¿«é€ŸéªŒè¯) æˆ– Rust/C++ (æœ€ç»ˆé«˜æ€§èƒ½ç‰ˆ)ã€‚**å»ºè®® MVP é˜¶æ®µé‡‡ç”¨ Python ä½œä¸º Engine**ï¼Œåˆ©ç”¨ pySerial å’Œ pymodbus å¿«é€Ÿè½åœ°ï¼ŒåŽæœŸå¯æ›¿æ¢ã€‚

---

## ðŸ“ 5. äº¤ä»˜ç‰©æ¸…å• (Deliverables)

åœ¨è¿›å…¥ç¼–ç é˜¶æ®µå‰ï¼Œå¿…é¡»äº§å‡ºä»¥ä¸‹æ–‡æ¡£ï¼š

1.  **ã€ŠDAQç³»ç»Ÿæž¶æž„è®¾è®¡è¯´æ˜Žä¹¦ã€‹**: åŒ…å«ç»„ä»¶å›¾ã€æ—¶åºå›¾ã€ç”±äºŽ IPC æŽ¥å£å®šä¹‰ã€‚
2.  **ã€ŠDAQ-IR åè®®è§„èŒƒã€‹**: JSON Schema å®šä¹‰ã€‚
3.  **ã€ŠUI ç»„ä»¶å¼€å‘æŒ‡å—ã€‹**: å®šä¹‰ä¸€ä¸ªæ–°ç»„ä»¶éœ€è¦åŒ…å«å“ªäº›æ–‡ä»¶ä¸Žé…ç½®ã€‚

---

**ä¸‹ä¸€æ­¥å»ºè®®**:
ç«‹å³å¼€å§‹ **DAQ-IR ç»“æž„å®šä¹‰** ä¸Ž **VSCode <-> Python è¿›ç¨‹é€šä¿¡ Demo** çš„ç¼–å†™ã€‚
