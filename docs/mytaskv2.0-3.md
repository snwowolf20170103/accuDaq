### DAQ IDE MVP 下一阶段开发计划 (v2.0-3)

**状态**：上一版计划已基本完成。本计划聚焦于稳定性、集成与可用于 Beta 的 MVP。

**目标周期**：4-6 周（视产能调整）

**范围**：独立实现、尽量少重构，但为后续集成做准备。

---

### 原则
- 保持最小闭环端到端可运行。
- 优先小而可靠的改动，避免大范围重写。
- 先提升可观测性与可调试性。
- 避免范围蔓延，非核心能力后置。

---

### 阶段 1：引擎加固（daq_core）
- MQTT 连接管理：自动重连、退避、干净关闭。
- 增加结构化日志与级别（info/warn/error）。
- 组件配置的 Schema 校验（输入、输出、默认值）。
- 节点函数与 MQTT 适配器的单元测试。
- CSV 存储校验：表头一致性、追加行为、错误场景。

### 阶段 2：编译器 + Schema 稳定性
- 正式化 .daq JSON Schema，并加入版本字段。
- 拓扑排序：循环检测与清晰诊断信息。
- 运行时配置与生成代码分离（更易调试）。
- 扩充黄金样例，覆盖常见流程与边界情况。

### 阶段 3：VSCode 插件流程
- 运行/停止带状态指示与日志流。
- 项目脚手架：示例 .daq + 示例资源。
- 错误展示：将编译/运行错误映射到输出面板。

### 阶段 4：可视化编辑器体验优化
- 节点面板整理与属性编辑器校验。
- .daq 的保存/加载保证可往返一致。
- 连线校验与基础端口类型（防止无效连接）。

### 阶段 5：实时仪表盘可靠性
- 标准图表模板（折线、仪表、数值）。
- MQTT.js 重连策略与状态指示。
- 数据映射与引擎输出字段对齐。

### 阶段 6：端到端集成 + 打包
- 一键本地演示脚本（引擎 + 编辑器）。
- 内置示例项目与期望输出。
- 面向 Windows 的安装说明（Python、Node、MQTT broker）。

### 阶段 7：文档与演示
- 快速开始：10 分钟上手流程。
- 手工测试清单（冒烟测试）。
- 演示脚本大纲（可选）。

---

### 完成定义（v2.0-3）
- 新用户可在 10 分钟内跑通端到端演示。
- 对无效 .daq 或运行失败提供清晰错误信息。
- 可视化编辑器编辑内容可保存并无损加载。
- 日志展示 MQTT 连接状态与数据流。

---

### 不在范围内（延期）
- 高级 AI 能力（超出基础建议）。
- 完整生产级安全/鉴权。
- 复杂图执行能力（调度、并行）。
